<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Plumed 2.0: user manual: Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="../pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <img src="../logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="../user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Plumed 2.0: user manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="glossary.html"><span>Glossary</span></a></li>
      <li><a href="tutorials.html"><span>How-tos</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>PLUMED is a plugin that works with a large number of molecular dynamics codes. It can be used to analyse features of the dynamics on-the-fly or to perform a wide variety of free energy methods. The original PLUMED 1 <a class="el" href="citelist.html#CITEREF_plumed1">plumed1</a> was highly successful and had over 1000 users. PLUMED 2 <a class="el" href="citelist.html#CITEREF_plumed2">[25]</a> constitues an extensive rewrite of the original in a way that makes it more modular and thus easier to implement new methods, more straightforward to add it to MD codes and hopefully simpler to use. This is the user manual - if you want to modify PLUMED or to understand how it works internally, have a look at the <a href="../../developer-doc/html/index.html">developer manual </a>.</p>
<p>To understand the difference between PLUMED 1 and PLUMED 2, and to follow the development of PLUMED 2, you can look at the detailed changelog:</p><ul>
<li>Changes for <a class="el" href="_c_h_a_n_g_e_s-2-0.html">Version 2.0</a></li>
</ul>
<p>A short tutorial explaining how to move from PLUMED 1 to PLUMED 2 is also available (see <a class="el" href="moving.html">Moving from Plumed 1 to Plumed 2</a>)</p>
<p>To install PLUMED 2, see this page: <a class="el" href="_installation.html">Installation</a></p>
<h1><a class="anchor" id="qintro"></a>
A quick introduction</h1>
<p>To run PLUMED 2 you need to provide one input file. In this file you specify what it is that PLUMED should do during the course of the run. Typically this will involve calculating one or more collective variables, perhaps calculating a function of these CVs and then doing some analysis of values of your collective variables/functions or running some free energy method. A very brief introduction to the syntax used in the PLUMED input file is provided in this <a href="http://www.youtube.com/watch?v=PxJP16qNCYs">10-minute video </a>.</p>
<p>More information on the input syntax as well as details on the the various trajectory analsyis tools that come with PLUMED are given in:</p>
<ul>
<li><a class="el" href="_colvar.html">Collective Variables</a></li>
<li><a class="el" href="_function.html">Functions</a></li>
<li><a class="el" href="_analysis.html">Analysis</a></li>
<li><a class="el" href="_bias.html">Bias</a></li>
</ul>
<p>PLUMED can be used in one of two ways. It can be incorporated into any one of the MD codes listed on the <a class="el" href="_installation.html">Installation</a> page and used to analyse or bias a molecular dynamics run on the fly. Alternatively, one can use it as a standalone tool for postprocessing the results from molecular dynamics or enhanced sampling calculations. To use PLUMED in this second way you will issue a command something like:</p>
<pre class="fragment">plumed &lt;toolname&gt; &lt;list of input flags for that tool&gt;
</pre><p>The following is a list of the various standalone tools that PLUMED contains.</p>
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><a class="el" href="driver.html">driver</a>  </td><td>driver is a tool that allows one to to use plumed to post-process an existing trajectory.   </td></tr>
<tr>
<td width="5%"><a class="el" href="gentemplate.html">gentemplate</a>  </td><td>gentemplate is a tool that you can use to construct template inputs for the various actions   </td></tr>
<tr>
<td width="5%"><a class="el" href="info.html">info</a>  </td><td>This tool allows you to obtain information about your plumed version   </td></tr>
<tr>
<td width="5%"><a class="el" href="manual.html">manual</a>  </td><td>manual is a tool that you can use to construct the manual page for a particular action   </td></tr>
<tr>
<td width="5%"><a class="el" href="simplemd.html">simplemd</a>  </td><td>simplemd allows one to do molecular dynamics on systems of Lennard-Jones atoms.   </td></tr>
<tr>
<td width="5%"><a class="el" href="sum_hills.html">sum_hills</a>  </td><td>sum_hills is a tool that allows one to to use plumed to post-process an existing hills/colvar file   </td></tr>
</table>
<p>For all these tools and to use PLUMED as a plugin in an MD calculation you will need an input file. Within this input file every line is an instruction for PLUMED to perform some particular action. This could be the calculation of a colvar, an occasional analysis of the trajectory or a biassing of the dynamics. The first word in these lines specify what particular action is to be performed. This is then followed by a number of keywords which provide PLUMED with more details as to how the action is to be performed. These keywords are either single words (in which they tell PLUMED to do the calculation in a particular way - for example NOPBC tells PLUMED to not use the periodic bounadry conditions when calculating a particular colvar) or they can be words followed by an equals sign and a comma separated list - WITH NO SPACES - of numbers or characters (so for example ATOMS=1,2,3,4 tells PLUMED to use atom numbers 1,2,3 and 4 in the calculation of a particular colvar). Space separated lists can be used instead of commma separated list if the entire list is enclosed in curly braces (e.g. ATOMS={1 2 3 4}).</p>
<p>The most important of these keywords is the label keyword as it is only by using these labels that we can pass data from one action to another. As an example if you do:</p>
<pre class="fragment">DISTANCE ATOMS=1,2
</pre><p> (see <a class="el" href="_d_i_s_t_a_n_c_e.html">DISTANCE</a>)</p>
<p>Then PLUMED will do nothing other than read in your input file. In contrast if you do:</p>
<pre class="fragment">DISTANCE ATOMS=1,2 LABEL=d1
PRINT ARG=d1 FILE=colvar STRIDE=10
</pre><p> (see <a class="el" href="_p_r_i_n_t.html">PRINT</a>)</p>
<p>then PLUMED will print out the value of the distance between atoms 1 and 2 every 10 steps to the file colvar as you have told PLUMED to take the value calculated by the action d1 and to print it. Notice that if a word followed by a column is added at the beginning of the line (e.g. pippo:), PLUMED automatically removes it and adds an equivalent label (LABEL=pippo). Thus, a completely equivalent result can be obtained with the following shortcut: </p><pre class="fragment">d1: DISTANCE ATOMS=1,2
PRINT ARG=d1 FILE=colvar STRIDE=10
</pre><p>Also notice that all the actions can be labeled, and that many actions besides normal collective variables can define one or more value, which can be then referred using the corresponding label.</p>
<p>Actions can be referred also with POSIX regular expressions (see <a class="el" href="_regex.html">Regular Expressions</a>). For this you need to compile PLUMED with the appropriate flag.</p>
<h1><a class="anchor" id="Units"></a>
A note on units</h1>
<p>By default the PLUMED inputs and outputs quantities in the following units:</p>
<ul>
<li>Energy - kJ/mol</li>
<li>Length - nanometers</li>
<li>Time - picoseconds</li>
</ul>
<p>Unlike PLUMED 1 the units used are independent of the MD engine you are using. If you want to change these units you can do this using the <a class="el" href="_u_n_i_t_s.html">UNITS</a> keyword.</p>
<p>Those are the essentials but there are a few other tricks that we didn't know where else to put in the manual so we stuck them here.</p>
<h1><a class="anchor" id="comments"></a>
Comments</h1>
<p>If you are an organised sort of person who likes to remember what the hell you were trying to do when you ran a particular simulation you might find it useful to put comments in your input file. In PLUMED you can do this as comments can be added using a # sign. On any given line everything after the # sign is ignored so erm... yes add lines of comments or trailing comments to your hearts content as shown below (using Shakespeare is optional):</p>
<pre class="fragment"># This is the distance between two atoms:
DISTANCE ATOM=1,2 LABEL=d1
UPPER_WALLS ARG=d1 AT=3.0 KAPPA=3.0 LABEL=Snout # In this same interlude it doth befall. That I, one Snout by name, present a wall.
</pre><p> (see <a class="el" href="_d_i_s_t_a_n_c_e.html">DISTANCE</a> and <a class="el" href="_u_p_p_e_r__w_a_l_l_s.html">UPPER_WALLS</a>)</p>
<p>An alternative to including comments in this way is to use line starting ENDPLUMED. Everything in the PLUMED input after this keyword will be ignored.</p>
<h1><a class="anchor" id="ContinuationLines"></a>
Continuation lines</h1>
<p>If your input lines get very long then editing them using vi and other such text editors becomes a massive pain in the arse. We at PLUMED are aware of this fact and thus have provided a way of doing line continuations so as to make your life that much easier - aren't we kind? Well no not really, we have to use this code too. Anyway, you can do continuations by using the "..." syntax as this makes this:</p>
<pre class="fragment">DISTANCES ATOMS1=1,300 ATOMS2=1,400 ATOMS3=1,500
</pre><p> (see <a class="el" href="_d_i_s_t_a_n_c_e_s.html">DISTANCES</a>)</p>
<p>equivalent to this:</p>
<pre class="fragment">DISTANCES ...
# we can also insert comments here
ATOMS1=1,300
# multiple kewords per line are allowed
ATOMS2=1,400 ATOMS3=1,500
#empty lines are also allowed

... DISTANCES
</pre><h1><a class="anchor" id="includes"></a>
Including other files in the PLUMED input</h1>
<p>If, for some reason, you want to spread your PLUMED input over a number of files you can use <a class="el" href="_i_n_c_l_u_d_e.html">INCLUDE</a> as shown below:</p>
<pre class="fragment">INCLUDE FILE=filename
</pre><p>So, for example, a single "plumed.dat" file:</p>
<pre class="fragment">DISTANCE ATOMS=0,1 LABEL=dist
RESTRAINT ARG=dist
</pre><p> (see <a class="el" href="_d_i_s_t_a_n_c_e.html">DISTANCE</a> and <a class="el" href="_r_e_s_t_r_a_i_n_t.html">RESTRAINT</a>)</p>
<p>could be split up into two files as shown below:</p>
<pre class="fragment">DISTANCE ATOMS=0,1 LABEL=dist
INCLUDE FILE=toBeIncluded.dat
</pre><p> plus a "toBeIncluded.dat" file </p><pre class="fragment">RESTRAINT ARG=dist
</pre><p>However, when you do this it is important to recognise that <a class="el" href="_i_n_c_l_u_d_e.html">INCLUDE</a> is a real directive that is only resolved after all the <a class="el" href="index.html#comments">Comments</a> have been stripped and the <a class="el" href="index.html#ContinuationLines">Continuation lines</a> have been unrolled. This means it is not possible to do things like:</p>
<pre class="fragment"># this is wrong:
DISTANCE INCLUDE FILE=options.dat
RESTRAINT ARG=dist
</pre><h1><a class="anchor" id="load"></a>
Loading shared libraries</h1>
<p>You can introduce new functionality into PLUMED by placing it directly into the src directory and recompiling the PLUMED libraries. Alternatively, if you want to keep your code independent from the rest of PLUMED (perhaps so you can release it independely - we won't be offended), then you can create your own dynamic library. To use this in conjuction with PLUMED you can then load it at runtime by using the <a class="el" href="_l_o_a_d.html">LOAD</a> keyword as shown below:</p>
<pre class="fragment">LOAD FILE=library.so
</pre><p>N.B. If your system uses a different suffix for dynamic libraries (e.g. macs use .dylib) then PLUMED will try to automatically adjust the suffix accordingly.</p>
<h1><a class="anchor" id="degub"></a>
Debugging the code</h1>
<p>The <a class="el" href="_d_e_b_u_g.html">DEBUG</a> action provides some functionality for debugging the code that may be useful if you are doing very intensive development of the code of if you are running on a computer with a strange architecture. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<table align="center" frame="void" width="98%" cellpadding="2%">
<tr><td align="left" valign="center"> 
Hosted by GitHub &nbsp;
<a href="http://github.com"><img src="Octocat.png" width="88" height="66"  alt="GitHub Logo" /></a>
<!--Generated by  &#160; --> <a href="http://www.doxygen.org/index.html">
</td><td width=90% align="right">
<img class="footer" src="doxygen.png" alt="doxygen" align="right"/>
</a> 1.8.7
</td> </tr> 
</table>
</small></address>
</body>
</html>
