
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Plumed 2.0: developer manual: core/Action.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top">
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="../pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <img src="../logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../user-doc/html/index.html"> <img src="../developer-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Plumed 2.0: developer manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>


<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>

<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>


<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4270bfced15e0e73154b13468c7c9ad9.html">core</a></li>  </ul>
</div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Action.cpp</div>  </div>
</div>
<div class="contents">
<a href="_action_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">   Copyright (c) 2013 The plumed team</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">   (see the PEOPLE file at the root of the distribution for a list of names)</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">   See http://www.plumed-code.org for more information.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   This file is part of plumed, version 2.0.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">   plumed is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">   (at your option) any later version.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">   plumed is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">   GNU Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">   You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">   along with plumed.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="core_2_action_8h.html">Action.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="core_2_action_with_value_8h.html">ActionWithValue.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="core_2_plumed_main_8h.html">PlumedMain.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;tools/Log.h&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;tools/Exception.h&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="core_2_atoms_8h.html">Atoms.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="core_2_action_set_8h.html">ActionSet.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">namespace </span>PLMD{</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;Keywords <a class="code" href="class_p_l_m_d_1_1_action_options.html#a218bc89c43452b487626ce55d46c3e35">ActionOptions::emptyKeys</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action_options.html#a5a55d47e6cf5658cd7629af3b4854537">   35</a></span>&#160;<a class="code" href="class_p_l_m_d_1_1_action_options.html#a5a55d47e6cf5658cd7629af3b4854537">ActionOptions::ActionOptions</a>(<a class="code" href="class_p_l_m_d_1_1_plumed_main.html">PlumedMain</a>&amp;p,<span class="keyword">const</span> std::vector&lt;std::string&gt;&amp;l):</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<a class="code" href="structplumed.html">plumed</a>(p),</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;line(l),</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;keys(emptyKeys)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action_options.html#a190ea331d14fc4bfb85fc192a7f0e07f">   42</a></span>&#160;<a class="code" href="class_p_l_m_d_1_1_action_options.html#a5a55d47e6cf5658cd7629af3b4854537">ActionOptions::ActionOptions</a>(<span class="keyword">const</span> <a class="code" href="class_p_l_m_d_1_1_action_options.html">ActionOptions</a>&amp;ao,<span class="keyword">const</span> <a class="code" href="class_p_l_m_d_1_1_keywords.html">Keywords</a>&amp;keys):</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<a class="code" href="structplumed.html">plumed</a>(ao.<a class="code" href="structplumed.html">plumed</a>),</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;line(ao.line),</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;keys(keys)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#ae2441cde22748f855c3d150d2b73b117">   49</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#ae2441cde22748f855c3d150d2b73b117">Action::registerKeywords</a>( <a class="code" href="class_p_l_m_d_1_1_keywords.html">Keywords</a>&amp; keys ){</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  plumed_assert( keys.<a class="code" href="class_p_l_m_d_1_1_keywords.html#acb259069c981032339f4533f7e595f19">size</a>()==0 );</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  keys.<a class="code" href="class_p_l_m_d_1_1_keywords.html#a162e962c3c4a53a00d4deecf309407c5">add</a>( <span class="stringliteral">&quot;hidden&quot;</span>, <span class="stringliteral">&quot;LABEL&quot;</span>, <span class="stringliteral">&quot;a label for the action so that its output can be referenced in the input to other actions.  Actions with scalar output are referenced using their label only.  Actions with vector output must have a separate label for every component.  Individual componets are then refered to using label.component&quot;</span> );</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a37988f0085b0996d045c6ab0adf949d7">   54</a></span>&#160;<a class="code" href="class_p_l_m_d_1_1_action.html#a37988f0085b0996d045c6ab0adf949d7">Action::Action</a>(<span class="keyword">const</span> <a class="code" href="class_p_l_m_d_1_1_action_options.html">ActionOptions</a>&amp;ao):</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  name(ao.line[0]),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  line(ao.line),</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  active(false),</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <a class="code" href="structplumed.html">plumed</a>(ao.<a class="code" href="structplumed.html">plumed</a>),</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  log(<a class="code" href="structplumed.html">plumed</a>.getLog()),</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  comm(<a class="code" href="structplumed.html">plumed</a>.comm),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  multi_sim_comm(<a class="code" href="structplumed.html">plumed</a>.multi_sim_comm),</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  keywords(ao.keys)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#acbbf11962e2961a3f710d7f5af2e66d6">line</a>.erase(<a class="code" href="class_p_l_m_d_1_1_action.html#acbbf11962e2961a3f710d7f5af2e66d6">line</a>.begin());</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#a31215215cfe4b1078c8f566688964346">log</a>.<a class="code" href="class_p_l_m_d_1_1_o_file.html#a1ad29d0ba5b7ceb7c1949f33c6ccd29f">printf</a>(<span class="stringliteral">&quot;Action %s\n&quot;</span>,<a class="code" href="class_p_l_m_d_1_1_action.html#a98d822488f40703efaaaf40a34e3d447">name</a>.c_str());</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="class_p_l_m_d_1_1_action.html#a6e538d1551222af05fe56ea52c3ca4b8">keywords</a>.<a class="code" href="class_p_l_m_d_1_1_keywords.html#a299bd9376569bf5f40ba0b3067f7fa8f">exists</a>(<span class="stringliteral">&quot;LABEL&quot;</span>) ){ <a class="code" href="class_p_l_m_d_1_1_action.html#ae0c8ed07593b5e242e34b32e0edc3a12">parse</a>(<span class="stringliteral">&quot;LABEL&quot;</span>,<a class="code" href="class_p_l_m_d_1_1_action.html#a092458398c43a1f9f1cbdfb3ab88723b">label</a>); }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="class_p_l_m_d_1_1_action.html#a092458398c43a1f9f1cbdfb3ab88723b">label</a>.length()==0){</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    std::string s; <a class="code" href="class_p_l_m_d_1_1_tools.html#ac532f156c0c4956d71a29054ed11c277">Tools::convert</a>(<a class="code" href="structplumed.html">plumed</a>.getActionSet().size(),s);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="class_p_l_m_d_1_1_action.html#a092458398c43a1f9f1cbdfb3ab88723b">label</a>=<span class="stringliteral">&quot;@&quot;</span>+s;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="structplumed.html">plumed</a>.getActionSet().selectWithLabel&lt;<a class="code" href="class_p_l_m_d_1_1_action.html">Action</a>*&gt;(<a class="code" href="class_p_l_m_d_1_1_action.html#a092458398c43a1f9f1cbdfb3ab88723b">label</a>) ) <a class="code" href="class_p_l_m_d_1_1_action.html#a94c1c30fbc92747b8828aa6f1e3d207d">error</a>(<span class="stringliteral">&quot;label &quot;</span> + <a class="code" href="class_p_l_m_d_1_1_action.html#a092458398c43a1f9f1cbdfb3ab88723b">label</a> + <span class="stringliteral">&quot; has been already used&quot;</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#a31215215cfe4b1078c8f566688964346">log</a>.<a class="code" href="class_p_l_m_d_1_1_o_file.html#a1ad29d0ba5b7ceb7c1949f33c6ccd29f">printf</a>(<span class="stringliteral">&quot;  with label %s\n&quot;</span>,<a class="code" href="class_p_l_m_d_1_1_action.html#a092458398c43a1f9f1cbdfb3ab88723b">label</a>.c_str());</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a66bc9962ab2bba3fc2daed41888143d2">   77</a></span>&#160;<a class="code" href="class_p_l_m_d_1_1_action.html#a66bc9962ab2bba3fc2daed41888143d2">Action::~Action</a>(){</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="class_p_l_m_d_1_1_action.html#a1579f8f39e3a064c0049b9abd6a78173">files</a>.size()!=0){</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    std::cerr&lt;&lt;<span class="stringliteral">&quot;WARNING: some files open in action &quot;</span>+<a class="code" href="class_p_l_m_d_1_1_action.html#a83ff3bbc47b66f3b91cf66ed54a135e3">getLabel</a>()+<span class="stringliteral">&quot; where not properly closed. This could lead to data loss!!\n&quot;</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#ae55920a1aa5a070cf9a001f728c2b916">   83</a></span>&#160;FILE* <a class="code" href="class_p_l_m_d_1_1_action.html#ae55920a1aa5a070cf9a001f728c2b916">Action::fopen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keyword">const</span> <span class="keywordtype">char</span> *mode){</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordtype">bool</span> write(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keywordtype">char</span>*p=mode;*p;p++) <span class="keywordflow">if</span>(*p==<span class="charliteral">&#39;w&#39;</span> || *p==<span class="charliteral">&#39;a&#39;</span> || *p==<span class="charliteral">&#39;+&#39;</span>) write=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  FILE* fp;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">if</span>(write &amp;&amp; <a class="code" href="class_p_l_m_d_1_1_action.html#a7c787b25470ea3699f4c262c37225c83">comm</a>.<a class="code" href="class_p_l_m_d_1_1_communicator.html#a3d713a7ba1b12861a58d0ad34a1f4220">Get_rank</a>()!=0) fp=<a class="code" href="structplumed.html">plumed</a>.fopen(<span class="stringliteral">&quot;/dev/null&quot;</span>,mode);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">else</span>      fp=<a class="code" href="structplumed.html">plumed</a>.fopen(path,mode);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#a1579f8f39e3a064c0049b9abd6a78173">files</a>.insert(fp);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">return</span> fp;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#aec96f3559a3b7d2611323e5cc751159a">   93</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_p_l_m_d_1_1_action.html#aec96f3559a3b7d2611323e5cc751159a">Action::fclose</a>(FILE*fp){</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#a1579f8f39e3a064c0049b9abd6a78173">files</a>.erase(fp);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structplumed.html">plumed</a>.fclose(fp);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#ab73c4c26d6ff062cfec4d3a6e15af636">   98</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#ab73c4c26d6ff062cfec4d3a6e15af636">Action::fflush</a>(){</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="class_p_l_m_d_1_1_action.html#ab1c35fbde9e23ca528bba864409d5b44">files_iterator</a> p=<a class="code" href="class_p_l_m_d_1_1_action.html#a1579f8f39e3a064c0049b9abd6a78173">files</a>.begin();p!=<a class="code" href="class_p_l_m_d_1_1_action.html#a1579f8f39e3a064c0049b9abd6a78173">files</a>.end();++p){</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    std::fflush((*p));</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a5540be9c95bc8bf9f1ec567c047afddb">  104</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a5540be9c95bc8bf9f1ec567c047afddb">Action::parseFlag</a>(<span class="keyword">const</span> std::string&amp;key,<span class="keywordtype">bool</span> &amp; t){</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// Check keyword has been registered</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  plumed_massert(<a class="code" href="class_p_l_m_d_1_1_action.html#a6e538d1551222af05fe56ea52c3ca4b8">keywords</a>.<a class="code" href="class_p_l_m_d_1_1_keywords.html#a299bd9376569bf5f40ba0b3067f7fa8f">exists</a>(key), <span class="stringliteral">&quot;keyword &quot;</span> + key + <span class="stringliteral">&quot; has not been registered&quot;</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">// Check keyword is a flag</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="class_p_l_m_d_1_1_action.html#a6e538d1551222af05fe56ea52c3ca4b8">keywords</a>.<a class="code" href="class_p_l_m_d_1_1_keywords.html#a8aeae18d33a3d80f07ab15d7d19c9137">style</a>(key,<span class="stringliteral">&quot;nohtml&quot;</span>)){</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;     plumed_massert(<a class="code" href="class_p_l_m_d_1_1_action.html#a6e538d1551222af05fe56ea52c3ca4b8">keywords</a>.<a class="code" href="class_p_l_m_d_1_1_keywords.html#a8aeae18d33a3d80f07ab15d7d19c9137">style</a>(key,<span class="stringliteral">&quot;flag&quot;</span>), <span class="stringliteral">&quot;keyword &quot;</span> + key + <span class="stringliteral">&quot; is not a flag&quot;</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// Read in the flag otherwise get the default value from the keywords object</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="class_p_l_m_d_1_1_tools.html#a57e6b4e88defece3bfc08a5cc160c3ed">Tools::parseFlag</a>(<a class="code" href="class_p_l_m_d_1_1_action.html#acbbf11962e2961a3f710d7f5af2e66d6">line</a>,key,t)){</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;     <span class="keywordflow">if</span>( <a class="code" href="class_p_l_m_d_1_1_action.html#a6e538d1551222af05fe56ea52c3ca4b8">keywords</a>.<a class="code" href="class_p_l_m_d_1_1_keywords.html#a8aeae18d33a3d80f07ab15d7d19c9137">style</a>(key,<span class="stringliteral">&quot;nohtml&quot;</span>) ){ </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        t=<span class="keyword">false</span>; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !<a class="code" href="class_p_l_m_d_1_1_action.html#a6e538d1551222af05fe56ea52c3ca4b8">keywords</a>.<a class="code" href="class_p_l_m_d_1_1_keywords.html#ab0ef86926df926159790eb8743ea2c30">getLogicalDefault</a>(key,t) ){</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="class_p_l_m_d_1_1_action.html#a31215215cfe4b1078c8f566688964346">log</a>.<a class="code" href="class_p_l_m_d_1_1_o_file.html#a1ad29d0ba5b7ceb7c1949f33c6ccd29f">printf</a>(<span class="stringliteral">&quot;ERROR in action %s with label %s : flag %s has no default&quot;</span>,<a class="code" href="class_p_l_m_d_1_1_action.html#a98d822488f40703efaaaf40a34e3d447">name</a>.c_str(),<a class="code" href="class_p_l_m_d_1_1_action.html#a092458398c43a1f9f1cbdfb3ab88723b">label</a>.c_str(),key.c_str() );</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        plumed_error();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;     } </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a69bfdead58ff0edf02348e4649f2b4c8">  123</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a69bfdead58ff0edf02348e4649f2b4c8">Action::addDependency</a>(<a class="code" href="class_p_l_m_d_1_1_action.html">Action</a>*action){</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#a29165ac9faeab900bb120ba5422442b4">after</a>.insert(action);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a4af8460d9a690b9e336c8b72dfbeeaf0">  127</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a4af8460d9a690b9e336c8b72dfbeeaf0">Action::activate</a>(){</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">// preparation step is called only the first time an Action is activated.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">// since it could change its dependences (e.g. in an ActionAtomistic which is</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">// accessing to a virtual atom), this is done just before dependencies are</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">// activated</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="class_p_l_m_d_1_1_action.html#afada06a4a7fad02204804e9abb6788d8">active</a>){</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    this-&gt;<a class="code" href="class_p_l_m_d_1_1_action.html#a533c472e8f6ce1aaeefb89aa7d66fb45">unlockRequests</a>();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="class_p_l_m_d_1_1_action.html#abf625f1f7b3e6ac1355916b9813ac122">prepare</a>();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    this-&gt;<a class="code" href="class_p_l_m_d_1_1_action.html#ae50f438acbd3d8352ff94e3ff39df1af">lockRequests</a>();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">for</span>(Dependencies::iterator p=<a class="code" href="class_p_l_m_d_1_1_action.html#a29165ac9faeab900bb120ba5422442b4">after</a>.begin();p!=<a class="code" href="class_p_l_m_d_1_1_action.html#a29165ac9faeab900bb120ba5422442b4">after</a>.end();++p) (*p)-&gt;activate();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#afada06a4a7fad02204804e9abb6788d8">active</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#ac32a934a85264e1b3ae33b93b6fe1c77">  141</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#ac32a934a85264e1b3ae33b93b6fe1c77">Action::setOption</a>(<span class="keyword">const</span> std::string &amp;s){</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">// This overloads the action and activate some options  </span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#abbb95f486451415062e7e8138dc9df6f">options</a>.insert(s);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">for</span>(Dependencies::iterator p=<a class="code" href="class_p_l_m_d_1_1_action.html#a29165ac9faeab900bb120ba5422442b4">after</a>.begin();p!=<a class="code" href="class_p_l_m_d_1_1_action.html#a29165ac9faeab900bb120ba5422442b4">after</a>.end();++p) (*p)-&gt;setOption(s);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#aa8d1c8c7d2c15c738b1f3a490ca3d09f">  147</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#aa8d1c8c7d2c15c738b1f3a490ca3d09f">Action::clearOptions</a>(){</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">// This overloads the action and activate some options  </span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#abbb95f486451415062e7e8138dc9df6f">options</a>.clear();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a433d88c2a78028eb04414fd1a3907062">  153</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a433d88c2a78028eb04414fd1a3907062">Action::clearDependencies</a>(){</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#a29165ac9faeab900bb120ba5422442b4">after</a>.clear();</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a8619ccc3efe5373b4c8514c918e2b456">  157</a></span>&#160;std::string <a class="code" href="class_p_l_m_d_1_1_action.html#a8619ccc3efe5373b4c8514c918e2b456">Action::getDocumentation</a>()<span class="keyword">const</span>{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">return</span> std::string(<span class="stringliteral">&quot;UNDOCUMENTED ACTION&quot;</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a8ffc4538dce6f51e1505a0a300d204e2">  161</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a8ffc4538dce6f51e1505a0a300d204e2">Action::checkRead</a>(){</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="class_p_l_m_d_1_1_action.html#acbbf11962e2961a3f710d7f5af2e66d6">line</a>.empty()){</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    std::string msg=<span class="stringliteral">&quot;cannot understand the following words from the input line : &quot;</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> i=0;i&lt;<a class="code" href="class_p_l_m_d_1_1_action.html#acbbf11962e2961a3f710d7f5af2e66d6">line</a>.size();i++) msg = msg + <a class="code" href="class_p_l_m_d_1_1_action.html#acbbf11962e2961a3f710d7f5af2e66d6">line</a>[i] + <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="class_p_l_m_d_1_1_action.html#a94c1c30fbc92747b8828aa6f1e3d207d">error</a>(msg);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a0e0c56a575fd9a185b1a62895e349976">  169</a></span>&#160;<span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a0e0c56a575fd9a185b1a62895e349976">Action::getStep</a>()<span class="keyword">const</span>{</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structplumed.html">plumed</a>.getStep();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#ad0c79b94acb35ff853bc03b549ac82dc">  173</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="class_p_l_m_d_1_1_action.html#ad0c79b94acb35ff853bc03b549ac82dc">Action::getTime</a>()<span class="keyword">const</span>{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structplumed.html">plumed</a>.getAtoms().getTimeStep()*<a class="code" href="class_p_l_m_d_1_1_action.html#a0e0c56a575fd9a185b1a62895e349976">getStep</a>();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a4333dc6fe24dfb9b01251ef69024fedd">  177</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a4333dc6fe24dfb9b01251ef69024fedd">Action::getTimeStep</a>()<span class="keyword">const</span>{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structplumed.html">plumed</a>.getAtoms().getTimeStep();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a4f9f50e5782df513490845f9b5a29446">  183</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a4f9f50e5782df513490845f9b5a29446">Action::exit</a>(<span class="keywordtype">int</span> c){</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="structplumed.html">plumed</a>.exit(c);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a0ee12bac632bfda5bc830bed9e2beacb">  187</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a0ee12bac632bfda5bc830bed9e2beacb">Action::calculateNumericalDerivatives</a>( <a class="code" href="class_p_l_m_d_1_1_action_with_value.html">ActionWithValue</a>* <a class="code" href="tools_2_matrix_8h.html#abbbe73d1c8be35369721e93ad9999266">a</a> ){</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  plumed_merror(<span class="stringliteral">&quot;if you get here it means that you are trying to use numerical derivatives for a class that does not implement them&quot;</span>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#abf625f1f7b3e6ac1355916b9813ac122">  191</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#abf625f1f7b3e6ac1355916b9813ac122">Action::prepare</a>(){</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a94c1c30fbc92747b8828aa6f1e3d207d">  195</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a94c1c30fbc92747b8828aa6f1e3d207d">Action::error</a>( <span class="keyword">const</span> std::string &amp; msg )<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#a31215215cfe4b1078c8f566688964346">log</a>.<a class="code" href="class_p_l_m_d_1_1_o_file.html#a1ad29d0ba5b7ceb7c1949f33c6ccd29f">printf</a>(<span class="stringliteral">&quot;ERROR in input to action %s with label %s : %s \n \n&quot;</span>, <a class="code" href="class_p_l_m_d_1_1_action.html#a98d822488f40703efaaaf40a34e3d447">name</a>.c_str(), <a class="code" href="class_p_l_m_d_1_1_action.html#a092458398c43a1f9f1cbdfb3ab88723b">label</a>.c_str(), msg.c_str() );</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">if</span>( !<a class="code" href="class_p_l_m_d_1_1_action.html#acbbf11962e2961a3f710d7f5af2e66d6">line</a>.empty() ) <a class="code" href="class_p_l_m_d_1_1_action.html#a6e538d1551222af05fe56ea52c3ca4b8">keywords</a>.<a class="code" href="class_p_l_m_d_1_1_keywords.html#a16214d750fb5f830b5ea817fcb20b44e">print</a>( <a class="code" href="class_p_l_m_d_1_1_action.html#a31215215cfe4b1078c8f566688964346">log</a> );</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  plumed_merror(<span class="stringliteral">&quot;ERROR in input to action &quot;</span> + <a class="code" href="class_p_l_m_d_1_1_action.html#a98d822488f40703efaaaf40a34e3d447">name</a> + <span class="stringliteral">&quot; with label &quot;</span> + <a class="code" href="class_p_l_m_d_1_1_action.html#a092458398c43a1f9f1cbdfb3ab88723b">label</a> + <span class="stringliteral">&quot; : &quot;</span> + msg );</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#ad9e67f3ecb9e6288212df96b256de8ca">  201</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#ad9e67f3ecb9e6288212df96b256de8ca">Action::warning</a>( <span class="keyword">const</span> std::string &amp; msg ){</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#a31215215cfe4b1078c8f566688964346">log</a>.<a class="code" href="class_p_l_m_d_1_1_o_file.html#a1ad29d0ba5b7ceb7c1949f33c6ccd29f">printf</a>(<span class="stringliteral">&quot;WARNING for action %s with label %s : %s \n&quot;</span>, <a class="code" href="class_p_l_m_d_1_1_action.html#a98d822488f40703efaaaf40a34e3d447">name</a>.c_str(), <a class="code" href="class_p_l_m_d_1_1_action.html#a092458398c43a1f9f1cbdfb3ab88723b">label</a>.c_str(), msg.c_str() ); </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a7f04b28c3a489e51206f0e385db54d4c">  205</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a7f04b28c3a489e51206f0e385db54d4c">Action::calculateFromPDB</a>( <span class="keyword">const</span> <a class="code" href="class_p_l_m_d_1_1_p_d_b.html">PDB</a>&amp; pdb ){</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#a4af8460d9a690b9e336c8b72dfbeeaf0">activate</a>();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">for</span>(Dependencies::iterator p=<a class="code" href="class_p_l_m_d_1_1_action.html#a29165ac9faeab900bb120ba5422442b4">after</a>.begin();p!=<a class="code" href="class_p_l_m_d_1_1_action.html#a29165ac9faeab900bb120ba5422442b4">after</a>.end();++p){</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;     <a class="code" href="class_p_l_m_d_1_1_action_with_value.html">ActionWithValue</a>*av=<span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_p_l_m_d_1_1_action_with_value.html">ActionWithValue</a>*<span class="keyword">&gt;</span>(*p);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;     <span class="keywordflow">if</span>(av){ av-&gt;<a class="code" href="class_p_l_m_d_1_1_action_with_value.html#a985508f6020914444b2b27f3dddfdf09">clearInputForces</a>(); av-&gt;<a class="code" href="class_p_l_m_d_1_1_action_with_value.html#a81d24b1ba80e305cb128015b5db69e4c">clearDerivatives</a>(); }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;     (*p)-&gt;readAtomsFromPDB( pdb ); </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;     (*p)-&gt;calculate();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#a73aeeaa23c0e1cb4d1811025d7c9d729">readAtomsFromPDB</a>( pdb );</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <a class="code" href="class_p_l_m_d_1_1_action.html#a7ccc23f0c343834dad6f01a409dc4b39">calculate</a>();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a71151697db2605de929cb257ad1d0972">  217</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_p_l_m_d_1_1_action.html#a71151697db2605de929cb257ad1d0972">Action::getExchangeStep</a>()<span class="keyword">const</span>{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structplumed.html">plumed</a>.getExchangeStep();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="class_p_l_m_d_1_1_action.html#a1f88b1db4bb5f9d474d474ae6f46c4b6">  221</a></span>&#160;std::string <a class="code" href="class_p_l_m_d_1_1_action.html#a1f88b1db4bb5f9d474d474ae6f46c4b6">Action::cite</a>(<span class="keyword">const</span> std::string&amp;s){</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structplumed.html">plumed</a>.cite(s);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="ttc" id="core_2_atoms_8h_html"><div class="ttname"><a href="core_2_atoms_8h.html">Atoms.h</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_options_html_a218bc89c43452b487626ce55d46c3e35"><div class="ttname"><a href="class_p_l_m_d_1_1_action_options.html#a218bc89c43452b487626ce55d46c3e35">PLMD::ActionOptions::emptyKeys</a></div><div class="ttdeci">static Keywords emptyKeys</div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00050">Action.h:50</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a5540be9c95bc8bf9f1ec567c047afddb"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a5540be9c95bc8bf9f1ec567c047afddb">PLMD::Action::parseFlag</a></div><div class="ttdeci">void parseFlag(const std::string &amp;key, bool &amp;t)</div><div class="ttdoc">Parse one keyword as boolean flag. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00104">Action.cpp:104</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a37988f0085b0996d045c6ab0adf949d7"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a37988f0085b0996d045c6ab0adf949d7">PLMD::Action::Action</a></div><div class="ttdeci">Action(const ActionOptions &amp;)</div><div class="ttdoc">Standard constructor from ActionOptions. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00054">Action.cpp:54</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a31215215cfe4b1078c8f566688964346"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a31215215cfe4b1078c8f566688964346">PLMD::Action::log</a></div><div class="ttdeci">Log &amp; log</div><div class="ttdoc">Reference to the log stream. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00093">Action.h:93</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_afada06a4a7fad02204804e9abb6788d8"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#afada06a4a7fad02204804e9abb6788d8">PLMD::Action::active</a></div><div class="ttdeci">bool active</div><div class="ttdoc">Switch to activate Action on this step. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00082">Action.h:82</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_options_html_a5a55d47e6cf5658cd7629af3b4854537"><div class="ttname"><a href="class_p_l_m_d_1_1_action_options.html#a5a55d47e6cf5658cd7629af3b4854537">PLMD::ActionOptions::ActionOptions</a></div><div class="ttdeci">ActionOptions(PlumedMain &amp;p, const std::vector&lt; std::string &gt; &amp;)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00035">Action.cpp:35</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_ad9e67f3ecb9e6288212df96b256de8ca"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#ad9e67f3ecb9e6288212df96b256de8ca">PLMD::Action::warning</a></div><div class="ttdeci">void warning(const std::string &amp;msg)</div><div class="ttdoc">Issue a warning. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00201">Action.cpp:201</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_tools_html_a57e6b4e88defece3bfc08a5cc160c3ed"><div class="ttname"><a href="class_p_l_m_d_1_1_tools.html#a57e6b4e88defece3bfc08a5cc160c3ed">PLMD::Tools::parseFlag</a></div><div class="ttdeci">static bool parseFlag(std::vector&lt; std::string &gt; &amp;line, const std::string &amp;key, bool &amp;val)</div><div class="ttdoc">Find a keyword without arguments on the input line. </div><div class="ttdef"><b>Definition:</b> <a href="tools_2_tools_8h_source.html#l00157">Tools.h:157</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a4f9f50e5782df513490845f9b5a29446"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a4f9f50e5782df513490845f9b5a29446">PLMD::Action::exit</a></div><div class="ttdeci">void exit(int c=0)</div><div class="ttdoc">Exit with error code c. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00183">Action.cpp:183</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_tools_html_ac532f156c0c4956d71a29054ed11c277"><div class="ttname"><a href="class_p_l_m_d_1_1_tools.html#ac532f156c0c4956d71a29054ed11c277">PLMD::Tools::convert</a></div><div class="ttdeci">static bool convert(const std::string &amp;str, double &amp;t)</div><div class="ttdoc">Convert a string to a double, reading it. </div><div class="ttdef"><b>Definition:</b> <a href="_tools_8cpp_source.html#l00074">Tools.cpp:74</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a7f04b28c3a489e51206f0e385db54d4c"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a7f04b28c3a489e51206f0e385db54d4c">PLMD::Action::calculateFromPDB</a></div><div class="ttdeci">void calculateFromPDB(const PDB &amp;)</div><div class="ttdoc">Calculate the action given a pdb file as input. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00205">Action.cpp:205</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a94c1c30fbc92747b8828aa6f1e3d207d"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a94c1c30fbc92747b8828aa6f1e3d207d">PLMD::Action::error</a></div><div class="ttdeci">void error(const std::string &amp;msg) const </div><div class="ttdoc">Crash calculation and print documentation. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00195">Action.cpp:195</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a83ff3bbc47b66f3b91cf66ed54a135e3"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a83ff3bbc47b66f3b91cf66ed54a135e3">PLMD::Action::getLabel</a></div><div class="ttdeci">const std::string &amp; getLabel() const </div><div class="ttdoc">Returns the label. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00263">Action.h:263</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a4af8460d9a690b9e336c8b72dfbeeaf0"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a4af8460d9a690b9e336c8b72dfbeeaf0">PLMD::Action::activate</a></div><div class="ttdeci">virtual void activate()</div><div class="ttdoc">Set action to active. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00127">Action.cpp:127</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_ae50f438acbd3d8352ff94e3ff39df1af"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#ae50f438acbd3d8352ff94e3ff39df1af">PLMD::Action::lockRequests</a></div><div class="ttdeci">virtual void lockRequests()</div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00172">Action.h:172</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a4333dc6fe24dfb9b01251ef69024fedd"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a4333dc6fe24dfb9b01251ef69024fedd">PLMD::Action::getTimeStep</a></div><div class="ttdeci">double getTimeStep() const </div><div class="ttdoc">Return the timestep. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00177">Action.cpp:177</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a73aeeaa23c0e1cb4d1811025d7c9d729"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a73aeeaa23c0e1cb4d1811025d7c9d729">PLMD::Action::readAtomsFromPDB</a></div><div class="ttdeci">virtual void readAtomsFromPDB(const PDB &amp;)</div><div class="ttdoc">This is overwritten in ActionAtomistic so that we can read the atoms from the pdb input file rather t...</div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00251">Action.h:251</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a8ffc4538dce6f51e1505a0a300d204e2"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a8ffc4538dce6f51e1505a0a300d204e2">PLMD::Action::checkRead</a></div><div class="ttdeci">void checkRead()</div><div class="ttdoc">Check if Action was properly read. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00161">Action.cpp:161</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_aa8d1c8c7d2c15c738b1f3a490ca3d09f"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#aa8d1c8c7d2c15c738b1f3a490ca3d09f">PLMD::Action::clearOptions</a></div><div class="ttdeci">virtual void clearOptions()</div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00147">Action.cpp:147</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a533c472e8f6ce1aaeefb89aa7d66fb45"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a533c472e8f6ce1aaeefb89aa7d66fb45">PLMD::Action::unlockRequests</a></div><div class="ttdeci">virtual void unlockRequests()</div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00173">Action.h:173</a></div></div>
<div class="ttc" id="core_2_action_with_value_8h_html"><div class="ttname"><a href="core_2_action_with_value_8h.html">ActionWithValue.h</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_keywords_html_a162e962c3c4a53a00d4deecf309407c5"><div class="ttname"><a href="class_p_l_m_d_1_1_keywords.html#a162e962c3c4a53a00d4deecf309407c5">PLMD::Keywords::add</a></div><div class="ttdeci">void add(const std::string &amp;t, const std::string &amp;k, const std::string &amp;d)</div><div class="ttdoc">Add a new keyword of type t with name k and description d. </div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8cpp_source.html#l00167">Keywords.cpp:167</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a7c787b25470ea3699f4c262c37225c83"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a7c787b25470ea3699f4c262c37225c83">PLMD::Action::comm</a></div><div class="ttdeci">Communicator &amp; comm</div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00158">Action.h:158</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a7ccc23f0c343834dad6f01a409dc4b39"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a7ccc23f0c343834dad6f01a409dc4b39">PLMD::Action::calculate</a></div><div class="ttdeci">virtual void calculate()=0</div><div class="ttdoc">Calculate an Action. </div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_acbbf11962e2961a3f710d7f5af2e66d6"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#acbbf11962e2961a3f710d7f5af2e66d6">PLMD::Action::line</a></div><div class="ttdeci">std::vector&lt; std::string &gt; line</div><div class="ttdoc">Directive line. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00072">Action.h:72</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a69bfdead58ff0edf02348e4649f2b4c8"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a69bfdead58ff0edf02348e4649f2b4c8">PLMD::Action::addDependency</a></div><div class="ttdeci">void addDependency(Action *)</div><div class="ttdoc">Specify that this Action depends on another one. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00123">Action.cpp:123</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_with_value_html"><div class="ttname"><a href="class_p_l_m_d_1_1_action_with_value.html">PLMD::ActionWithValue</a></div><div class="ttdoc">Used to create a PLMD::Action that has some scalar or vectorial output that may or may not have some ...</div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_with_value_8h_source.html#l00065">ActionWithValue.h:65</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_ae0c8ed07593b5e242e34b32e0edc3a12"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#ae0c8ed07593b5e242e34b32e0edc3a12">PLMD::Action::parse</a></div><div class="ttdeci">void parse(const std::string &amp;key, T &amp;t)</div><div class="ttdoc">Parse one keyword as generic type. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00273">Action.h:273</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_ae55920a1aa5a070cf9a001f728c2b916"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#ae55920a1aa5a070cf9a001f728c2b916">PLMD::Action::fopen</a></div><div class="ttdeci">FILE * fopen(const char *path, const char *mode)</div><div class="ttdoc">Opens a file. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00083">Action.cpp:83</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_keywords_html"><div class="ttname"><a href="class_p_l_m_d_1_1_keywords.html">PLMD::Keywords</a></div><div class="ttdoc">This class holds the keywords and their documentation. </div><div class="ttdef"><b>Definition:</b> <a href="tools_2_keywords_8h_source.html#l00036">Keywords.h:36</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a98d822488f40703efaaaf40a34e3d447"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a98d822488f40703efaaaf40a34e3d447">PLMD::Action::name</a></div><div class="ttdeci">const std::string name</div><div class="ttdoc">Name of the directive in the plumed.dat file. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00064">Action.h:64</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_communicator_html_a3d713a7ba1b12861a58d0ad34a1f4220"><div class="ttname"><a href="class_p_l_m_d_1_1_communicator.html#a3d713a7ba1b12861a58d0ad34a1f4220">PLMD::Communicator::Get_rank</a></div><div class="ttdeci">int Get_rank() const </div><div class="ttdoc">Obtain the rank of the present process. </div><div class="ttdef"><b>Definition:</b> <a href="_communicator_8cpp_source.html#l00048">Communicator.cpp:48</a></div></div>
<div class="ttc" id="core_2_plumed_main_8h_html"><div class="ttname"><a href="core_2_plumed_main_8h.html">PlumedMain.h</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_options_html"><div class="ttname"><a href="class_p_l_m_d_1_1_action_options.html">PLMD::ActionOptions</a></div><div class="ttdoc">This class is used to bring the relevant information to the Action constructor. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00041">Action.h:41</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_with_value_html_a985508f6020914444b2b27f3dddfdf09"><div class="ttname"><a href="class_p_l_m_d_1_1_action_with_value.html#a985508f6020914444b2b27f3dddfdf09">PLMD::ActionWithValue::clearInputForces</a></div><div class="ttdeci">void clearInputForces()</div><div class="ttdoc">Clear the forces on the values. </div><div class="ttdef"><b>Definition:</b> <a href="_action_with_value_8cpp_source.html#l00066">ActionWithValue.cpp:66</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_keywords_html_a16214d750fb5f830b5ea817fcb20b44e"><div class="ttname"><a href="class_p_l_m_d_1_1_keywords.html#a16214d750fb5f830b5ea817fcb20b44e">PLMD::Keywords::print</a></div><div class="ttdeci">void print(Log &amp;log) const </div><div class="ttdoc">Print the documentation to the log file (used by PLMD::Action::error) </div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8cpp_source.html#l00461">Keywords.cpp:461</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_ad0c79b94acb35ff853bc03b549ac82dc"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#ad0c79b94acb35ff853bc03b549ac82dc">PLMD::Action::getTime</a></div><div class="ttdeci">double getTime() const </div><div class="ttdoc">Return the present time. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00173">Action.cpp:173</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_o_file_html_a1ad29d0ba5b7ceb7c1949f33c6ccd29f"><div class="ttname"><a href="class_p_l_m_d_1_1_o_file.html#a1ad29d0ba5b7ceb7c1949f33c6ccd29f">PLMD::OFile::printf</a></div><div class="ttdeci">int printf(const char *fmt,...)</div><div class="ttdoc">Formatted output with explicit format - a la printf. </div><div class="ttdef"><b>Definition:</b> <a href="_o_file_8cpp_source.html#l00082">OFile.cpp:82</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html">PLMD::Action</a></div><div class="ttdoc">Base class for all the input Actions. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00060">Action.h:60</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a092458398c43a1f9f1cbdfb3ab88723b"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a092458398c43a1f9f1cbdfb3ab88723b">PLMD::Action::label</a></div><div class="ttdeci">std::string label</div><div class="ttdoc">Label of the Action, as set with LABEL= in the plumed.dat file. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00067">Action.h:67</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a0ee12bac632bfda5bc830bed9e2beacb"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a0ee12bac632bfda5bc830bed9e2beacb">PLMD::Action::calculateNumericalDerivatives</a></div><div class="ttdeci">virtual void calculateNumericalDerivatives(ActionWithValue *a=NULL)</div><div class="ttdoc">Perform calculation using numerical derivatives N.B. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00187">Action.cpp:187</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_ae2441cde22748f855c3d150d2b73b117"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#ae2441cde22748f855c3d150d2b73b117">PLMD::Action::registerKeywords</a></div><div class="ttdeci">static void registerKeywords(Keywords &amp;keys)</div><div class="ttdoc">Register all the relevant keywords for the action. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00049">Action.cpp:49</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a71151697db2605de929cb257ad1d0972"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a71151697db2605de929cb257ad1d0972">PLMD::Action::getExchangeStep</a></div><div class="ttdeci">bool getExchangeStep() const </div><div class="ttdoc">Check if we are on an exchange step. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00217">Action.cpp:217</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a66bc9962ab2bba3fc2daed41888143d2"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a66bc9962ab2bba3fc2daed41888143d2">PLMD::Action::~Action</a></div><div class="ttdeci">virtual ~Action()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00077">Action.cpp:77</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a8619ccc3efe5373b4c8514c918e2b456"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a8619ccc3efe5373b4c8514c918e2b456">PLMD::Action::getDocumentation</a></div><div class="ttdeci">virtual std::string getDocumentation() const </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00157">Action.cpp:157</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_abf625f1f7b3e6ac1355916b9813ac122"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#abf625f1f7b3e6ac1355916b9813ac122">PLMD::Action::prepare</a></div><div class="ttdeci">virtual void prepare()</div><div class="ttdoc">Prepare an Action for calculation This can be used by Action if they need some special preparation be...</div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00191">Action.cpp:191</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_ac32a934a85264e1b3ae33b93b6fe1c77"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#ac32a934a85264e1b3ae33b93b6fe1c77">PLMD::Action::setOption</a></div><div class="ttdeci">virtual void setOption(const std::string &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00141">Action.cpp:141</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_keywords_html_a8aeae18d33a3d80f07ab15d7d19c9137"><div class="ttname"><a href="class_p_l_m_d_1_1_keywords.html#a8aeae18d33a3d80f07ab15d7d19c9137">PLMD::Keywords::style</a></div><div class="ttdeci">bool style(const std::string &amp;k, const std::string &amp;t) const </div><div class="ttdoc">Check if the keyword with name k has style t. </div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8cpp_source.html#l00223">Keywords.cpp:223</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_p_d_b_html"><div class="ttname"><a href="class_p_l_m_d_1_1_p_d_b.html">PLMD::PDB</a></div><div class="ttdoc">Minimalistic pdb parser. </div><div class="ttdef"><b>Definition:</b> <a href="tools_2_p_d_b_8h_source.html#l00038">PDB.h:38</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_aec96f3559a3b7d2611323e5cc751159a"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#aec96f3559a3b7d2611323e5cc751159a">PLMD::Action::fclose</a></div><div class="ttdeci">int fclose(FILE *fp)</div><div class="ttdoc">Closes a file opened with Action::fclose(). </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00093">Action.cpp:93</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a29165ac9faeab900bb120ba5422442b4"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a29165ac9faeab900bb120ba5422442b4">PLMD::Action::after</a></div><div class="ttdeci">Dependencies after</div><div class="ttdoc">Actions on which this Action depends. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00079">Action.h:79</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_ab73c4c26d6ff062cfec4d3a6e15af636"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#ab73c4c26d6ff062cfec4d3a6e15af636">PLMD::Action::fflush</a></div><div class="ttdeci">void fflush()</div><div class="ttdoc">Tell to the Action to flush open files. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00098">Action.cpp:98</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a0e0c56a575fd9a185b1a62895e349976"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a0e0c56a575fd9a185b1a62895e349976">PLMD::Action::getStep</a></div><div class="ttdeci">long int getStep() const </div><div class="ttdoc">Return the present timestep. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00169">Action.cpp:169</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_keywords_html_a299bd9376569bf5f40ba0b3067f7fa8f"><div class="ttname"><a href="class_p_l_m_d_1_1_keywords.html#a299bd9376569bf5f40ba0b3067f7fa8f">PLMD::Keywords::exists</a></div><div class="ttdeci">bool exists(const std::string &amp;k) const </div><div class="ttdoc">Check if there is a keyword with name k. </div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8cpp_source.html#l00239">Keywords.cpp:239</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_with_value_html_a81d24b1ba80e305cb128015b5db69e4c"><div class="ttname"><a href="class_p_l_m_d_1_1_action_with_value.html#a81d24b1ba80e305cb128015b5db69e4c">PLMD::ActionWithValue::clearDerivatives</a></div><div class="ttdeci">virtual void clearDerivatives()</div><div class="ttdoc">Clear the derivatives of values wrt parameters. </div><div class="ttdef"><b>Definition:</b> <a href="_action_with_value_8cpp_source.html#l00069">ActionWithValue.cpp:69</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_plumed_main_html"><div class="ttname"><a href="class_p_l_m_d_1_1_plumed_main.html">PLMD::PlumedMain</a></div><div class="ttdoc">Main plumed object. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_plumed_main_8h_source.html#l00071">PlumedMain.h:71</a></div></div>
<div class="ttc" id="structplumed_html"><div class="ttname"><a href="structplumed.html">plumed</a></div><div class="ttdoc">Main plumed object. </div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2_plumed_8h_source.html#l00201">Plumed.h:201</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a433d88c2a78028eb04414fd1a3907062"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a433d88c2a78028eb04414fd1a3907062">PLMD::Action::clearDependencies</a></div><div class="ttdeci">void clearDependencies()</div><div class="ttdoc">Clear the dependence list for this Action. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00153">Action.cpp:153</a></div></div>
<div class="ttc" id="core_2_action_set_8h_html"><div class="ttname"><a href="core_2_action_set_8h.html">ActionSet.h</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_keywords_html_ab0ef86926df926159790eb8743ea2c30"><div class="ttname"><a href="class_p_l_m_d_1_1_keywords.html#ab0ef86926df926159790eb8743ea2c30">PLMD::Keywords::getLogicalDefault</a></div><div class="ttdeci">bool getLogicalDefault(std::string key, bool &amp;def) const </div><div class="ttdoc">find out whether flag key is on or off by default. </div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8cpp_source.html#l00534">Keywords.cpp:534</a></div></div>
<div class="ttc" id="core_2_action_8h_html"><div class="ttname"><a href="core_2_action_8h.html">Action.h</a></div></div>
<div class="ttc" id="tools_2_matrix_8h_html_abbbe73d1c8be35369721e93ad9999266"><div class="ttname"><a href="tools_2_matrix_8h.html#abbbe73d1c8be35369721e93ad9999266">a</a></div><div class="ttdeci">void const char const char int double * a</div><div class="ttdef"><b>Definition:</b> <a href="tools_2_matrix_8h_source.html#l00042">Matrix.h:42</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a6e538d1551222af05fe56ea52c3ca4b8"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a6e538d1551222af05fe56ea52c3ca4b8">PLMD::Action::keywords</a></div><div class="ttdeci">const Keywords &amp; keywords</div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00161">Action.h:161</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_ab1c35fbde9e23ca528bba864409d5b44"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#ab1c35fbde9e23ca528bba864409d5b44">PLMD::Action::files_iterator</a></div><div class="ttdeci">std::set&lt; FILE * &gt;::iterator files_iterator</div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00140">Action.h:140</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a1f88b1db4bb5f9d474d474ae6f46c4b6"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a1f88b1db4bb5f9d474d474ae6f46c4b6">PLMD::Action::cite</a></div><div class="ttdeci">std::string cite(const std::string &amp;s)</div><div class="ttdoc">Cite a paper see PlumedMain::cite. </div><div class="ttdef"><b>Definition:</b> <a href="_action_8cpp_source.html#l00221">Action.cpp:221</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_abbb95f486451415062e7e8138dc9df6f"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#abbb95f486451415062e7e8138dc9df6f">PLMD::Action::options</a></div><div class="ttdeci">std::set&lt; std::string &gt; options</div><div class="ttdoc">Option that you might have enabled. </div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00085">Action.h:85</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_keywords_html_acb259069c981032339f4533f7e595f19"><div class="ttname"><a href="class_p_l_m_d_1_1_keywords.html#acb259069c981032339f4533f7e595f19">PLMD::Keywords::size</a></div><div class="ttdeci">unsigned size() const </div><div class="ttdoc">Return the number of defined keywords. </div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8cpp_source.html#l00230">Keywords.cpp:230</a></div></div>
<div class="ttc" id="class_p_l_m_d_1_1_action_html_a1579f8f39e3a064c0049b9abd6a78173"><div class="ttname"><a href="class_p_l_m_d_1_1_action.html#a1579f8f39e3a064c0049b9abd6a78173">PLMD::Action::files</a></div><div class="ttdeci">std::set&lt; FILE * &gt; files</div><div class="ttdef"><b>Definition:</b> <a href="core_2_action_8h_source.html#l00139">Action.h:139</a></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
<table align="center" frame="void" width="98%" cellpadding="2%">
<tr><td align="left" valign="center"> 
Hosted by GitHub &nbsp;
<a href="http://github.com"><img src="Octocat.png" width="88" height="66"  alt="GitHub Logo" /></a>
 <a href="http://www.doxygen.org/index.html">
</td><td width=90% align="right">
<img class="footer" src="doxygen.png" alt="doxygen" align="right"/>
</a> 1.8.5
</td> </tr> 
</table>
</small></address>
</body>
</html>
